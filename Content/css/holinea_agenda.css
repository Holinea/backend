:root{
  --navy:#111a3a;
  --bg:#f6f7fb;
  --card:#ffffff;
  --line:#e6e8f0;
  --muted:#9aa3b2;
  --green:#33b27b;
  --green-2:#e6f7f0;
  --orange:#ff8f6b;
  --blue:#0b5bd3;
  --pill:#eef2f7;
}

/* ---------- Layout global ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body{ background:var(--bg); color:#1d2340; }
.layout{
  display:grid;
  gap:16px;
  padding:16px;
  align-items:start;
}

/* Agenda = sidebar (nav) + colonne gauche + calendrier */
.agenda-layout{
  grid-template-columns: 260px 320px 1fr;
  grid-auto-rows:min-content;
}

/* ---------- Sidebar ---------- */
.sidebar{
  width:260px;                                   /* largeur explicite */
  background:#fff;
  border:1px solid var(--line);
  border-radius:14px;
  padding:16px;
  display:flex;
  flex-direction:column;
  gap:12px;
  height:calc(100vh - 32px);
  position:sticky; top:16px;
  transition: width .2s ease, padding .2s ease;
  overflow:hidden;
}
.brand{display:flex;align-items:center;gap:10px}
.brand img{height:32px}
.collapse-btn{
  display:inline-flex;align-items:center;justify-content:center;
  width:36px;height:36px;border:1px solid var(--line);
  border-radius:10px;background:#fff;cursor:pointer;
  transition: background .15s ease, transform .15s ease;
}
.collapse-btn:hover{background:#f5f7fb; transform: translateY(-1px);}

.menu { display:flex; flex-direction:column; gap:6px; }
.menu .item{
  display:flex;gap:10px;align-items:center;padding:10px;border-radius:10px;
  color:#1d2340;text-decoration:none;white-space:nowrap;
  transition: background .15s ease, color .15s ease, transform .15s ease;
}
.menu .item:hover{background:#f4f6fb}
.menu .item.active{background:#eef3ff;color:#0b3dda}
.menu .item .txt{margin-left:2px}

.sidebar-cta{margin-top:auto}
.me{
  display:flex;gap:10px;align-items:center;padding:10px;
  border:1px dashed var(--line);border-radius:12px
}
.me-avatar{width:36px;height:36px;border-radius:50%;object-fit:cover}
.me-name{font-weight:800}
.me-role{color:var(--muted);font-size:.9rem}

/* ---------- MODE REPLIÉ ---------- */
.layout.is-collapsed .sidebar{ width:72px; padding:16px 10px; }
.layout.is-collapsed.agenda-layout{ grid-template-columns:72px 320px 1fr; }

.layout.is-collapsed .brand img{ display:none; }
.layout.is-collapsed .menu .item .txt{ display:none; }
.layout.is-collapsed .sidebar-cta .me .me-meta{ display:none; }
.layout.is-collapsed .me{ justify-content:center; }
.layout.is-collapsed .me-avatar{ width:40px;height:40px; }
.layout.is-collapsed .menu .item{ justify-content:center; }

/* ---------- Colonne gauche (création rapide) ---------- */
.agenda-left{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:14px;
  padding:16px;
  position:sticky; top:16px;
  height:calc(100vh - 32px);
  overflow:auto;
}
.agenda-left h3{ margin:8px 0 12px 0; font-weight:900; }
.agenda-left label{
  display:block;font-weight:700;margin-top:10px;margin-bottom:6px
}
.agenda-left input[type="date"],
.agenda-left input[type="time"],
.agenda-left input[type="text"],
.agenda-left select{
  width:100%;height:40px;border:1px solid var(--line);
  border-radius:10px;padding:0 10px;background:#fbfcff;
  transition:border-color .15s ease, box-shadow .15s ease;
}
.agenda-left input:focus,
.agenda-left select:focus{
  border-color:#cfe0ff;
  box-shadow:0 0 0 4px rgba(11,91,211,.08);
  outline:none;
}
.row{display:flex;gap:8px}
.btn{
  display:inline-flex;align-items:center;gap:8px;
  border:1px solid var(--line);background:#fff;
  padding:10px 14px;border-radius:12px;cursor:pointer;font-weight:800;
  transition: transform .12s ease, filter .12s ease, box-shadow .12s ease;
}
.btn:hover{ transform: translateY(-1px); filter:brightness(.98); }
.btn.full{width:100%;justify-content:center}
.btn.primary{background:linear-gradient(90deg,#5DBB9A,#7CD0B3);color:#fff;border:none}
.btn.ghost{background:#fff}
.btn.soft{background:#ffe8df;border-color:#ffd8cc;color:#9a3f24}
.btn.dark{background:#131936;color:#fff;border-color:#131936}
.btn.green{background:#e8fbf3;border-color:#d5f5e7;color:#1c8e62}

.legend{margin-top:18px}
.chip{
  display:inline-flex;align-items:center;justify-content:center;
  padding:8px 12px;border-radius:999px;font-weight:800;margin:6px 8px 0 0
}
.chip-rdv{background:#fce9e3;color:#b4482b;border:1px solid #f8d5c9}
.chip-free{background:#e8fbf3;color:#1c8e62;border:1px solid #d5f5e7}
.chip-block{background:#fdeef0;color:#a5303f;border:1px solid #fbd8df}

.tip{margin-top:18px;font-size:.92rem;color:#4e5671}
.tip h3{margin:0 0 8px}

/* ---------- Zone agenda / calendrier ---------- */
.agenda-main{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px 12px 18px;
  min-height:calc(100vh - 32px);
}
.agenda-topbar{
  display:flex;justify-content:space-between;align-items:center;
  gap:8px;margin-bottom:10px; flex-wrap:wrap;
}
.agenda-topbar .title{
  font-weight:900;font-size:20px;display:flex;gap:8px;align-items:center
}
.toolbar{display:flex;gap:8px;flex-wrap:wrap}
.pill{background:var(--pill);border-radius:999px;padding:10px 14px;font-weight:800}

/* Calendrier */
.calendar{display:grid;gap:6px}
.calendar.month{grid-template-columns:repeat(7,1fr);grid-auto-rows:150px}
.calendar.week{grid-template-columns:repeat(7,1fr);grid-auto-rows:minmax(420px,1fr)}
.cell{
  border:1px solid var(--line);border-radius:12px;background:#fff;
  display:flex;flex-direction:column;overflow:hidden;min-width:0;
}
.cell.muted{opacity:.5}
.cell-head{
  font-weight:800;color:#2b3251;padding:8px 10px;flex:0 0 auto
}
.events{
  display:flex;flex-direction:column;gap:6px;
  padding:6px 8px 10px;overflow:auto;flex:1 1 auto;
}
.evt{
  display:inline-flex;align-items:center;gap:8px;border-radius:10px;
  padding:6px 10px;font-weight:800;border:1px solid transparent;
  min-width:0;
}
.evt .t{opacity:.8;flex:0 0 auto}
.evt .txt{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%}
.evt.rdv{background:#fdeae4;border-color:#ffd7cb;color:#9a4329}
.evt.free{background:#e9fbf3;border-color:#d5f5e7;color:#1c8e62}
.evt.block{background:#fff1f4;border-color:#ffdbe3;color:#a5303f}
.weekcol{min-height:480px}

/* ---------- Responsive ---------- */
@media (max-width: 1280px){
  .calendar.month{ grid-auto-rows: 130px; }
}
@media (max-width: 1100px){
  /* Sidebar compact + on masque la colonne gauche (création rapide) */
  .agenda-layout{ grid-template-columns: 72px 1fr; }
  .sidebar{ width:72px; padding:16px 10px; }
  .brand img, .menu .item .txt, .sidebar-cta .me .me-meta{ display:none; }
  .menu .item{ justify-content:center; }
  .me{ justify-content:center; }
  .me-avatar{ width:40px; height:40px; }

  .agenda-left{ display:none; }
  .agenda-main{ grid-column: 2 / -1; }
}
@media (max-width: 720px){
  .layout{ padding:12px; gap:12px; }
  .calendar.month{ grid-auto-rows: 110px; }
}
.btn[disabled]{
  opacity:.55; cursor:not-allowed; filter:grayscale(.1);
}
.weekdays{display:grid;grid-template-columns:repeat(7,1fr);gap:6px;margin:6px 0 8px}
.weekdays .wd{ text-align:center; font-weight:800; color:#6b7387; padding:6px 0; }

